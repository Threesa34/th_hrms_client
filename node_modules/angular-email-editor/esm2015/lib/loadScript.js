const scriptUrl = '//editor.unlayer.com/embed.js?2';
const callbacks = [];
let loaded = false;
const isScriptInjected = () => {
    const scripts = document.querySelectorAll('script');
    let injected = false;
    scripts.forEach((script) => {
        if (script.src.includes(scriptUrl)) {
            injected = true;
        }
    });
    return injected;
};
const ɵ0 = isScriptInjected;
const addCallback = (callback) => {
    callbacks.push(callback);
};
const ɵ1 = addCallback;
const runCallbacks = () => {
    if (loaded) {
        let callback;
        while ((callback = callbacks.shift())) {
            callback();
        }
    }
};
const ɵ2 = runCallbacks;
export const loadScript = (callback) => {
    addCallback(callback);
    if (!isScriptInjected()) {
        const embedScript = document.createElement('script');
        embedScript.setAttribute('src', scriptUrl);
        embedScript.onload = () => {
            loaded = true;
            runCallbacks();
        };
        document.head.appendChild(embedScript);
    }
    else {
        runCallbacks();
    }
};
export { ɵ0, ɵ1, ɵ2 };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9hZFNjcmlwdC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL2FuZ3VsYXItZW1haWwtZWRpdG9yLyIsInNvdXJjZXMiOlsibGliL2xvYWRTY3JpcHQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxTQUFTLEdBQUcsaUNBQWlDLENBQUM7QUFDcEQsTUFBTSxTQUFTLEdBQUcsRUFBRSxDQUFDO0FBQ3JCLElBQUksTUFBTSxHQUFHLEtBQUssQ0FBQztBQUVuQixNQUFNLGdCQUFnQixHQUFHLEdBQUcsRUFBRTtJQUM1QixNQUFNLE9BQU8sR0FBRyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDcEQsSUFBSSxRQUFRLEdBQUcsS0FBSyxDQUFDO0lBRXJCLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLEVBQUUsRUFBRTtRQUN6QixJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxFQUFFO1lBQ2xDLFFBQVEsR0FBRyxJQUFJLENBQUM7U0FDakI7SUFDSCxDQUFDLENBQUMsQ0FBQztJQUVILE9BQU8sUUFBUSxDQUFDO0FBQ2xCLENBQUMsQ0FBQzs7QUFFRixNQUFNLFdBQVcsR0FBRyxDQUFDLFFBQVEsRUFBRSxFQUFFO0lBQy9CLFNBQVMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDM0IsQ0FBQyxDQUFDOztBQUVGLE1BQU0sWUFBWSxHQUFHLEdBQUcsRUFBRTtJQUN4QixJQUFJLE1BQU0sRUFBRTtRQUNWLElBQUksUUFBUSxDQUFDO1FBRWIsT0FBTyxDQUFDLFFBQVEsR0FBRyxTQUFTLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRTtZQUNyQyxRQUFRLEVBQUUsQ0FBQztTQUNaO0tBQ0Y7QUFDSCxDQUFDLENBQUM7O0FBRUYsTUFBTSxDQUFDLE1BQU0sVUFBVSxHQUFHLENBQUMsUUFBUSxFQUFFLEVBQUU7SUFDckMsV0FBVyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBRXRCLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxFQUFFO1FBQ3ZCLE1BQU0sV0FBVyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDckQsV0FBVyxDQUFDLFlBQVksQ0FBQyxLQUFLLEVBQUUsU0FBUyxDQUFDLENBQUM7UUFDM0MsV0FBVyxDQUFDLE1BQU0sR0FBRyxHQUFHLEVBQUU7WUFDeEIsTUFBTSxHQUFHLElBQUksQ0FBQztZQUNkLFlBQVksRUFBRSxDQUFDO1FBQ2pCLENBQUMsQ0FBQztRQUNGLFFBQVEsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0tBQ3hDO1NBQU07UUFDTCxZQUFZLEVBQUUsQ0FBQztLQUNoQjtBQUNILENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHNjcmlwdFVybCA9ICcvL2VkaXRvci51bmxheWVyLmNvbS9lbWJlZC5qcz8yJztcbmNvbnN0IGNhbGxiYWNrcyA9IFtdO1xubGV0IGxvYWRlZCA9IGZhbHNlO1xuXG5jb25zdCBpc1NjcmlwdEluamVjdGVkID0gKCkgPT4ge1xuICBjb25zdCBzY3JpcHRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0Jyk7XG4gIGxldCBpbmplY3RlZCA9IGZhbHNlO1xuXG4gIHNjcmlwdHMuZm9yRWFjaCgoc2NyaXB0KSA9PiB7XG4gICAgaWYgKHNjcmlwdC5zcmMuaW5jbHVkZXMoc2NyaXB0VXJsKSkge1xuICAgICAgaW5qZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGluamVjdGVkO1xufTtcblxuY29uc3QgYWRkQ2FsbGJhY2sgPSAoY2FsbGJhY2spID0+IHtcbiAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xufTtcblxuY29uc3QgcnVuQ2FsbGJhY2tzID0gKCkgPT4ge1xuICBpZiAobG9hZGVkKSB7XG4gICAgbGV0IGNhbGxiYWNrO1xuXG4gICAgd2hpbGUgKChjYWxsYmFjayA9IGNhbGxiYWNrcy5zaGlmdCgpKSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBsb2FkU2NyaXB0ID0gKGNhbGxiYWNrKSA9PiB7XG4gIGFkZENhbGxiYWNrKGNhbGxiYWNrKTtcblxuICBpZiAoIWlzU2NyaXB0SW5qZWN0ZWQoKSkge1xuICAgIGNvbnN0IGVtYmVkU2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgZW1iZWRTY3JpcHQuc2V0QXR0cmlidXRlKCdzcmMnLCBzY3JpcHRVcmwpO1xuICAgIGVtYmVkU2NyaXB0Lm9ubG9hZCA9ICgpID0+IHtcbiAgICAgIGxvYWRlZCA9IHRydWU7XG4gICAgICBydW5DYWxsYmFja3MoKTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoZW1iZWRTY3JpcHQpO1xuICB9IGVsc2Uge1xuICAgIHJ1bkNhbGxiYWNrcygpO1xuICB9XG59O1xuIl19